/*
 * pagination.js 2.0.5
 * A jQuery plugin to provide simple yet fully customisable pagination.
 * https://github.com/superRaytin/paginationjs
 *
 * Homepage: http://paginationjs.com
 *
 * Copyright 2014-2100, superRaytin
 * Released under the MIT license.
 */
(function (w, e) {
    function m(e) {
        throw Error("Pagination: " + e);
    }

    function y(h) {
        h.dataSource || m('"dataSource" is required.');
        "string" === typeof h.dataSource ? "undefined" === typeof h.totalNumber ? m('"totalNumber" is required.') : e.isNumeric(h.totalNumber) || m('"totalNumber" is incorrect. (Number)') : t.isObject(h.dataSource) && ("undefined" === typeof h.locator ? m('"dataSource" is a Object, please specify "locator".') : "string" === typeof h.locator || e.isFunction(h.locator) || m("" + h.locator + " is incorrect. (String | Function)"))
    }

    "undefined" === typeof e && m("Pagination requires jQuery.");
    var u = "pagination";
    e.fn.pagination && (u = "pagination2");
    e.fn[u] = function (h) {
        if ("undefined" === typeof h)return this;
        var f = e(this), n = {
            initialize: function () {
                var a = this;
                f.data("pagination") || f.data("pagination", {});
                if (!1 !== a.callHook("beforeInit")) {
                    f.data("pagination").initialized && e(".paginationjs", f).remove();
                    var c = a.model = {pageRange: b.pageRange, pageSize: b.pageSize};
                    a.parseDataSource(b.dataSource, function (d) {
                        a.sync = t.isArray(d);
                        a.sync && (c.totalNumber = b.totalNumber = d.length);
                        c.totalPage = a.getTotalPage();
                        b.hideWhenLessThanOnePage && 1 >= c.totalPage || (d = a.render(!0), b.className && d.addClass(b.className), c.el = d, f["bottom" === b.position ? "append" : "prepend"](d), a.observer(), f.data("pagination").initialized = !0, a.callHook("afterInit", d))
                    })
                }
            }, render: function (a) {
                var c = this.model, d = c.el || e('\x3cdiv class\x3d"paginationjs"\x3e\x3c/div\x3e');
                a = !0 !== a;
                this.callHook("beforeRender", a);
                var g = c.pageNumber || b.pageNumber, f = b.pageRange, c = c.totalPage, k = g - f, h = g + f;
                h > c && (h = c, k = c - 2 * f, k = 1 > k ? 1 : k);
                1 >= k && (k = 1, h = Math.min(2 * f + 1, c));
                d.html(this.createTemplate({currentPage: g, pageRange: f, totalPage: c, rangeStart: k, rangeEnd: h}));
                this.callHook("afterRender", a);
                return d
            }, createTemplate: function (a) {
                var c = a.currentPage, d = a.totalPage, g = a.rangeStart;
                a = a.rangeEnd;
                var f = b.totalNumber, k = b.showPrevious, h = b.showNext, m = b.showPageNumbers, n = b.showNavigator, q = b.showGoInput, t = b.showGoButton, v = b.pageLink, u = b.prevText, w = b.nextText, A = b.ellipsisText, z = b.goButtonText, p = b.classPrefix, B = b.activeClassName, x = b.disableClassName, C = b.ulClassName, D = e.isFunction(b.formatNavigator) ? b.formatNavigator() : b.formatNavigator, E = e.isFunction(b.formatGoInput) ? b.formatGoInput() : b.formatGoInput, F = e.isFunction(b.formatGoButton) ? b.formatGoButton() : b.formatGoButton, y = e.isFunction(b.autoHidePrevious) ? b.autoHidePrevious() : b.autoHidePrevious, H = e.isFunction(b.autoHideNext) ? b.autoHideNext() : b.autoHideNext, r = e.isFunction(b.header) ? b.header() : b.header, G = e.isFunction(b.footer) ? b.footer() : b.footer, l = "", z = '\x3cinput type\x3d"button" class\x3d"J-paginationjs-go-button" value\x3d"' + z + '"\x3e';
                r && (r = this.replaceVariables(r, {currentPage: c, totalPage: d, totalNumber: f}), l += r);
                if (k || m || h) {
                    l += '\x3cdiv class\x3d"paginationjs-pages"\x3e';
                    l = C ? l + ('\x3cul class\x3d"' + C + '"\x3e') : l + "\x3cul\x3e";
                    k && (1 === c ? y || (l += '\x3cli class\x3d"' + p + "-prev " + x + '"\x3e\x3ca\x3e' + u + "\x3c/a\x3e\x3c/li\x3e") : l += '\x3cli class\x3d"' + p + '-prev J-paginationjs-previous" data-num\x3d"' + (c - 1) + '" title\x3d"Previous page"\x3e\x3ca href\x3d"' + v + '"\x3e' + u + "\x3c/a\x3e\x3c/li\x3e");
                    if (m) {
                        if (3 >= g)for (k = 1; k < g; k++)l = k == c ? l + ('\x3cli class\x3d"' + p + "-page J-paginationjs-page " + B + '" data-num\x3d"' + k + '"\x3e\x3ca\x3e' + k + "\x3c/a\x3e\x3c/li\x3e") : l + ('\x3cli class\x3d"' + p + '-page J-paginationjs-page" data-num\x3d"' + k + '"\x3e\x3ca href\x3d"' + v + '"\x3e' + k + "\x3c/a\x3e\x3c/li\x3e"); else b.showFirstOnEllipsisShow && (l += '\x3cli class\x3d"' + p + "-page " + p + '-first J-paginationjs-page" data-num\x3d"1"\x3e\x3ca href\x3d"' + v + '"\x3e1\x3c/a\x3e\x3c/li\x3e'), l += '\x3cli class\x3d"' + p + "-ellipsis " + x + '"\x3e\x3ca\x3e' + A + "\x3c/a\x3e\x3c/li\x3e";
                        for (k = g; k <= a; k++)l = k == c ? l + ('\x3cli class\x3d"' + p + "-page J-paginationjs-page " + B + '" data-num\x3d"' + k + '"\x3e\x3ca\x3e' + k + "\x3c/a\x3e\x3c/li\x3e") : l + ('\x3cli class\x3d"' + p + '-page J-paginationjs-page" data-num\x3d"' + k + '"\x3e\x3ca href\x3d"' + v + '"\x3e' + k + "\x3c/a\x3e\x3c/li\x3e");
                        if (a >= d - 2)for (k = a + 1; k <= d; k++)l += '\x3cli class\x3d"' + p + '-page J-paginationjs-page" data-num\x3d"' + k + '"\x3e\x3ca href\x3d"' + v + '"\x3e' + k + "\x3c/a\x3e\x3c/li\x3e"; else l += '\x3cli class\x3d"' + p + "-ellipsis " + x + '"\x3e\x3ca\x3e' + A + "\x3c/a\x3e\x3c/li\x3e", b.showLastOnEllipsisShow && (l += '\x3cli class\x3d"' + p + "-page " + p + '-last J-paginationjs-page" data-num\x3d"' + d + '"\x3e\x3ca href\x3d"' + v + '"\x3e' + d + "\x3c/a\x3e\x3c/li\x3e")
                    }
                    h && (c == d ? H || (l += '\x3cli class\x3d"' + p + "-next " + x + '"\x3e\x3ca\x3e' + w + "\x3c/a\x3e\x3c/li\x3e") : l += '\x3cli class\x3d"' + p + '-next J-paginationjs-next" data-num\x3d"' + (c + 1) + '" title\x3d"Next page"\x3e\x3ca href\x3d"' + v + '"\x3e' + w + "\x3c/a\x3e\x3c/li\x3e");
                    l += "\x3c/ul\x3e\x3c/div\x3e"
                }
                n && D && (r = this.replaceVariables(D, {
                    currentPage: c,
                    totalPage: d,
                    totalNumber: f
                }), l += '\x3cdiv class\x3d"' + p + '-nav J-paginationjs-nav"\x3e' + r + "\x3c/div\x3e");
                q && E && (r = this.replaceVariables(E, {
                    currentPage: c,
                    totalPage: d,
                    totalNumber: f,
                    input: '\x3cinput type\x3d"text" class\x3d"J-paginationjs-go-pagenumber"\x3e'
                }), l += '\x3cdiv class\x3d"' + p + '-go-input"\x3e' + r + "\x3c/div\x3e");
                t && F && (r = this.replaceVariables(F, {
                    currentPage: c,
                    totalPage: d,
                    totalNumber: f,
                    button: z
                }), l += '\x3cdiv class\x3d"' + p + '-go-button"\x3e' + r + "\x3c/div\x3e");
                G && (r = this.replaceVariables(G, {currentPage: c, totalPage: d, totalNumber: f}), l += r);
                return l
            }, go: function (a, c) {
                function d(a) {
                    h.direction = "undefined" === typeof h.pageNumber ? 0 : k > h.pageNumber ? 1 : -1;
                    h.pageNumber = k;
                    g.render();
                    g.disabled && !g.sync && g.enable();
                    f.data("pagination").model = h;
                    if (e.isFunction(b.formatResult)) {
                        var d = e.extend(!0, [], a);
                        t.isArray(a = b.formatResult(d)) || (a = d)
                    }
                    f.data("pagination").currentPageData = a;
                    g.callHook("beforePaging");
                    g.doCallback(a, c);
                    g.callHook("afterPaging");
                    1 == k && g.callHook("afterIsFirstPage");
                    k == h.totalPage && g.callHook("afterIsLastPage")
                }

                var g = this, h = g.model;
                if (!g.disabled) {
                    var k = a, m = b.pageSize, n = h.totalPage, k = parseInt(k);
                    if (!(!k || 1 > k || k > n))if (g.sync)d(g.getDataSegment(k)); else {
                        var n = {}, q = b.alias || {};
                        n[q.pageSize ? q.pageSize : "pageSize"] = m;
                        n[q.pageNumber ? q.pageNumber : "pageNumber"] = k;
                        m = {
                            type: "get",
                            cache: !1,
                            data: {},
                            contentType: "application/x-www-form-urlencoded; charset\x3dUTF-8",
                            dataType: "json",
                            async: !0
                        };
                        e.extend(!0, m, b.ajax);
                        e.extend(m.data || {}, n);
                        m.url = b.dataSource;
                        m.success = function (a) {
                            d(g.filterDataByLocator(a))
                        };
                        m.error = function (a, d, c) {
                            b.formatAjaxError && b.formatAjaxError(a, d, c);
                            g.enable()
                        };
                        g.disable();
                        e.ajax(m)
                    }
                }
            }, doCallback: function (a, c) {
                var d = this.model;
                e.isFunction(c) ? c(a, d) : e.isFunction(b.callback) && b.callback(a, d)
            }, destroy: function () {
                !1 !== this.callHook("beforeDestroy") && (this.model.el.remove(), f.off(), e("#paginationjs-style").remove(), this.callHook("afterDestroy"))
            }, previous: function (a) {
                this.go(this.model.pageNumber - 1, a)
            }, next: function (a) {
                this.go(this.model.pageNumber + 1, a)
            }, disable: function () {
                var a = this.sync ? "sync" : "async";
                !1 !== this.callHook("beforeDisable", a) && (this.disabled = !0, this.model.disabled = !0, this.callHook("afterDisable", a))
            }, enable: function () {
                var a = this.sync ? "sync" : "async";
                !1 !== this.callHook("beforeEnable", a) && (this.disabled = !1, this.model.disabled = !1, this.callHook("afterEnable", a))
            }, show: function () {
                this.model.el.is(":visible") || this.model.el.show()
            }, hide: function () {
                this.model.el.is(":visible") && this.model.el.hide()
            }, replaceVariables: function (a, b) {
                var d, g;
                for (g in b)d = (d || a).replace(new RegExp("\x3c%\x3d\\s*" + g + "\\s*%\x3e", "img"), b[g]);
                return d
            }, getDataSegment: function (a) {
                var c = b.pageSize, d = b.dataSource, g = c * (a - 1) + 1;
                a = Math.min(a * c, b.totalNumber);
                return d.slice(g - 1, a)
            }, getTotalPage: function () {
                return Math.ceil(b.totalNumber / b.pageSize)
            }, getLocator: function (a) {
                var b;
                "string" === typeof a ? b = a : e.isFunction(a) ? b = a() : m('"locator" is incorrect. (String | Function)');
                return b
            }, filterDataByLocator: function (a) {
                var c = this.getLocator(b.locator), d;
                if (t.isObject(a)) {
                    try {
                        e.each(c.split("."), function (b, g) {
                            d = (d ? d : a)[g]
                        })
                    } catch (g) {
                    }
                    d ? t.isArray(d) || m("dataSource." + c + " must be an Array.") : m("dataSource." + c + " is undefined.")
                }
                return d || a
            }, parseDataSource: function (a, c) {
                var d = this, g = arguments;
                t.isObject(a) ? c(b.dataSource = d.filterDataByLocator(a)) : t.isArray(a) ? c(b.dataSource = a) : e.isFunction(a) ? b.dataSource(function (a) {
                    e.isFunction(a) && m('Unexpect parameter of the "done" Function.');
                    g.callee.call(d, a, c)
                }) : "string" === typeof a ? (/^https?|file:/.test(a) && (b.ajaxDataType = "jsonp"), c(a)) : m('Unexpect data type of the "dataSource".')
            }, callHook: function (a) {
                var c = f.data("pagination"), d, g = Array.prototype.slice.apply(arguments);
                g.shift();
                b[a] && e.isFunction(b[a]) && !1 === b[a].apply(w, g) && (d = !1);
                c.hooks && c.hooks[a] && e.each(c.hooks[a], function (a, b) {
                    !1 === b.apply(w, g) && (d = !1)
                });
                return !1 !== d
            }, observer: function () {
                var a = this, c = a.model.el;
                f.on("__pagination-go", function (b, g, c) {
                    if (g = parseInt(e.trim(g)))e.isNumeric(g) || m('"pageNumber" is incorrect. (Number)'), a.go(g, c)
                });
                c.delegate(".J-paginationjs-page", "click", function (d) {
                    var g = e(d.currentTarget), c = e.trim(g.attr("data-num"));
                    if (c && !g.hasClass(b.disableClassName) && !g.hasClass(b.activeClassName)) {
                        if (!1 === a.callHook("beforePageOnClick", d))return !1;
                        a.go(c);
                        a.callHook("afterPageOnClick", d);
                        if (!b.pageLink)return !1
                    }
                });
                c.delegate(".J-paginationjs-previous", "click", function (d) {
                    var c = e(d.currentTarget), f = e.trim(c.attr("data-num"));
                    if (f && !c.hasClass(b.disableClassName)) {
                        if (!1 === a.callHook("beforePreviousOnClick", d))return !1;
                        a.go(f);
                        a.callHook("afterPreviousOnClick", d);
                        if (!b.pageLink)return !1
                    }
                });
                c.delegate(".J-paginationjs-next", "click", function (d) {
                    var c = e(d.currentTarget), f = e.trim(c.attr("data-num"));
                    if (f && !c.hasClass(b.disableClassName)) {
                        if (!1 === a.callHook("beforeNextOnClick", d))return !1;
                        a.go(f);
                        a.callHook("afterNextOnClick", d);
                        if (!b.pageLink)return !1
                    }
                });
                c.delegate(".J-paginationjs-go-button", "click", function () {
                    var b = e(".J-paginationjs-go-pagenumber", c).val();
                    if (!1 === a.callHook("beforeGoButtonOnClick", event, b))return !1;
                    f.trigger("__pagination-go", b);
                    a.callHook("afterGoButtonOnClick", event, b)
                });
                c.delegate(".J-paginationjs-go-pagenumber", "keyup", function (b) {
                    if (13 === b.which) {
                        var g = e(b.currentTarget).val();
                        if (!1 === a.callHook("beforeGoInputOnEnter", b, g))return !1;
                        f.trigger("__pagination-go", g);
                        e(".J-paginationjs-go-pagenumber", c).focus();
                        a.callHook("afterGoInputOnEnter", b, g)
                    }
                });
                f.on("__pagination-previous", function (b, c) {
                    a.previous(c)
                });
                f.on("__pagination-next", function (b, c) {
                    a.next(c)
                });
                f.on("__pagination-disable", function () {
                    a.disable()
                });
                f.on("__pagination-enable", function () {
                    a.enable()
                });
                f.on("__pagination-show", function () {
                    a.show()
                });
                f.on("__pagination-hide", function () {
                    a.hide()
                });
                f.on("__pagination-destroy", function () {
                    a.destroy()
                });
                (n.sync || b.triggerPagingOnInit) && f.trigger("__pagination-go", Math.min(b.pageNumber, a.model.totalPage))
            }
        };
        if (f.data("pagination") && !0 === f.data("pagination").initialized) {
            if (e.isNumeric(h))return f.trigger.call(this, "__pagination-go", h, arguments[1]), this;
            if ("string" === typeof h) {
                var q = Array.prototype.slice.apply(arguments);
                q[0] = "__pagination-" + q[0];
                switch (h) {
                    case "previous":
                    case "next":
                    case "go":
                    case "disable":
                    case "enable":
                    case "show":
                    case "hide":
                    case "destroy":
                        f.trigger.apply(this, q);
                        break;
                    case "getSelectedPageNum":
                        return f.data("pagination").model ? f.data("pagination").model.pageNumber : f.data("pagination").attributes.pageNumber;
                    case "getTotalPage":
                        return f.data("pagination").model.totalPage;
                    case "getSelectedPageData":
                        return f.data("pagination").currentPageData;
                    case "isDisabled":
                        return !0 === f.data("pagination").model.disabled;
                    default:
                        m("Pagination do not provide action: " + h)
                }
                return this
            }
        } else t.isObject(h) || m("options is illegal");
        var b = e.extend({}, arguments.callee.defaults, h);
        y(b);
        n.initialize();
        return this
    };
    e.fn[u].defaults = {
        totalNumber: 1,
        pageNumber: 1,
        pageSize: 10,
        pageRange: 2,
        showPrevious: !0,
        showNext: !0,
        showPageNumbers: !0,
        showNavigator: !1,
        showGoInput: !1,
        showGoButton: !1,
        pageLink: "",
        prevText: "\x26laquo;",
        nextText: "\x26raquo;",
        ellipsisText: "...",
        goButtonText: "Go",
        classPrefix: "paginationjs",
        activeClassName: "active",
        disableClassName: "disabled",
        inlineStyle: !0,
        formatNavigator: "\x3c%\x3d currentPage %\x3e / \x3c%\x3d totalPage %\x3e",
        formatGoInput: "\x3c%\x3d input %\x3e",
        formatGoButton: "\x3c%\x3d button %\x3e",
        position: "bottom",
        autoHidePrevious: !1,
        autoHideNext: !1,
        triggerPagingOnInit: !0,
        hideWhenLessThanOnePage: !1,
        showFirstOnEllipsisShow: !0,
        showLastOnEllipsisShow: !0,
        callback: function () {
        }
    };
    e.fn.addHook = function (h, f) {
        2 > arguments.length && m("Missing argument.");
        e.isFunction(f) || m("callback must be a function.");
        var n = e(this), q = n.data("pagination");
        q || (n.data("pagination", {}), q = n.data("pagination"));
        !q.hooks && (q.hooks = {});
        q.hooks[h] = q.hooks[h] || [];
        q.hooks[h].push(f)
    };
    e[u] = function (h, f) {
        2 > arguments.length && m("Requires two parameters.");
        var n;
        n = "string" !== typeof h && h instanceof jQuery ? h : e(h);
        if (n.length)return n.pagination(f), n
    };
    var t = {};
    e.each(["Object", "Array"], function (e, f) {
        t["is" + f] = function (e) {
            var h;
            return ("object" == (h = typeof e) ? null == e && "null" || Object.prototype.toString.call(e).slice(8, -1) : h).toLowerCase() === f.toLowerCase()
        }
    });
    "function" === typeof define && (define.amd || define.cmd) && define(function () {
        return e
    })
})(this, window.jQuery);